<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ITI1521 Laboratoire 2</title>
    <meta name="description" content="ITI1521 labs"/>
    <meta name="keywords" content="fullscreen pageflip, booklet, layout, bookblock, jquery plugin, flipboard layout, sidebar menu"/>
    <!-- <link rel="stylesheet" type="text/css" href="css/jquery.jscrollpane.custom.css" /> -->
    <link rel="stylesheet" type="text/css" href="css/bookblock.css"/>
    <link rel="stylesheet" type="text/css" href="css/custom.css"/>
    <script type="text/javascript" src="js/modernizr.custom.79639.js"></script>
    <script type="text/javascript" src="js/google-code-prettify/src/run_prettify.js"></script>
    <link rel="stylesheet" type="text/css" href="css/prettify.css"/>
    <script type="text/javascript">
      <!--
	  function toggle(id) {
	  var e = document.getElementById(id);
	  if(e.style.display == 'none')
	  e.style.display = 'block';
	  else
	  e.style.display = 'none';
	  }
	  //-->
    </script>
    <style type="text/css">
      th, td {
      padding: 10px;
      }
    </style>
  </head>
  <body>
    <div id="container" class="container">

      <div class="menu-panel">
	<h3>Table des matières</h3>
	<ul id="menu-toc" class="menu-toc">
	  <li class="menu-toc-current"><a href="#item1">Partie 1</a></li>
	  <li><a href="#item2">Partie 2</a></li>
	  <li><a href="#item3">Partie 3</a></li>
	  <!--<li><a href="#item4">A drawing joke</a></li>
	      <li><a href="#item5">Commencing practice</a></li>-->
	</ul>
	<!--<div>
	    <a href="">some link here</a>

	    </div>-->
      </div>

      <div class="bb-custom-wrapper">
	<div id="bb-bookblock" class="bb-bookblock">
	  <div class="bb-item" id="item1">
	    <div class="content">
	      <div class="scroller"> <h1>Première partie</h1>
	      <h2>Conversion de type</h2>

	      <div class="content_bullet_box objectifs_box">
		<h3>Objectifs d'apprentissage</h3>

		<ul>
		  <li><strong>Décrire</strong> en vos propres mots ce que l'on entend par conversions de type de données.</li>
		  <li><strong>Différencier</strong> entre les conversions de type implicites et explicites.</li>
		  <li><strong>Reconnaître</strong> les situations où le forçage du type peut se faire sans conséquence sur l'exactitude des calculs.</li>
		</ul>
	      </div>

	      <h4>1. Conversion de type</h4>
	      <p>Comme vu au laboratoire précédent, Java est un langage fortement <b>typé</b>. Il nous sera parfois utile de <b>convertir</b> une donnée d'un type primitif à un autre. Pour ce faire, il faudra toutefois être vigilant afin de ne pas <b>perdre de l'information.</b> Il existe 2 types de conversion: celles <b>implicites</b> et celles <b>explicites</b>.</p>

	      <h6>Conversion implicite/sans perte d'information</h6>

	      <p>Les conversions implicites sont celles où il n’y a pas de perte de données (aucune perte d'information possible). Elles se produisent automatiquement lors de l'exécution du programme.</p>

	      <p>Par exemple, l’<b>affectation</b> d’une valeur peut se faire par une conversion implicite: </p>
	      <pre class="prettyprint lang-java"><code>float money;
int cash = 25;
money = cash; // Converts from int to float
System.out.println(money);</code>
	      </pre>

	      <p>Cette conversion est implicite, car la conversion d’un entier <b>int</b> vers un nombre à décimal <b>float</b> se produit sans perte d’information. On remarque aussi que le programme imprime « 25.0 ». Le « .0 » provient du fait que le 25 de type <b>int</b> est converti en <b>float</b>.</p>

	      <p>C'est aussi ce qui se produit lorsqu'une valeur de type <strong>int </strong> est affectée dans une variable de type <strong>long</strong>.
	      Le type <strong>long</strong> représente aussi une valeur entière, mais  l'intervalle de valeurs qu'il représente est plus grand que celui d'un <strong>int</strong> ; et il contient toutes les valeurs  représentées par ce dernier. La conversion automatique dans l'autre sens est impossible puisqu'il y plusieurs  valeurs représentées par un <strong>long</strong> qui ne
	      peuvent être représentées avec la quantité de mémoire réservée pour  un <strong>int</strong>. Il existe autant de situations qu'il y a de combinaisons de <b>types primitifs</b>. Vous pouvez les retrouver dans le <a href="#tableau1">tableau</a> plus bas.</p>

	      <p>Il existe un second cas dans lequel la conversion implicite s’effectue. Il s’agit de la <b>promotion arithmétique</b>, c’est-à-dire lorsqu’un opérateur doit modifier le <b>type</b> de ses <b>opérandes</b> afin d’exécuter l’opération. </p>

	      <p>Par exemple:</p>

	      <pre class="prettyprint lang-java"><code>double num1 = 2.0;
int num2 = 6;
System.out.println(num2/num1);</code>
	      </pre>

	      <p>Dans cet exemple, le programme imprime 3.0 à l’écran. La variable « num2 » est convertie en <b>float</b> avant la division. </p>

	      <p>À titre de référence, il existe une série de règles qu’il vous est possible d’appliquer afin de savoir quels seront les <b>types des opérandes</b> lors d'opérations effectuées avec <b>+, -, *, /, %, &lt;, &lt;=, &gt;, &gt;=, == et != </b>. </p>
	      <p><i>À effectuer dans l'ordre:</i>
	      <ol>
		<li>Si un des opérandes est de type <b>double</b>, l'autre est converti en <b>double</b> ;</li>
		<li>Si un des opérandes est de type <b>float</b>, l'autre est converti en <b>float</b> ;</li>
		<li>Si un des opérandes est de type <b>long</b>, l'autre est converti en <b>long</b> ;</li>
		<li>Dans <b>tous les autres cas</b>, les deux opérandes sont convertis en <b>int</b>.</li>

	      </ol>
	      </p>
	      <p>Veuillez noter qu’il n’existe aucune conversion pour le type <b>boolean</b>.</p>

	      <p>Le tableau ci-dessous résume l'ensemble des conversions <b>sans perte d'information</b> pour les différents <b>types primitifs</b> :</p>

	      <table border="1" id="tableau1">
		<tr>
		  <th >DE</th>
		  <th >VERS</th>
		</tr>
		<tr>
		  <td>byte</td>
		  <td >short, int, long, float, double</td>
		</tr>
		<tr>
		  <td>short</td>
		  <td>int, long, float, double</td>
		</tr>
		<tr>
		  <td>char</td>
		  <td>int, long, float, double</td>
		</tr>
		<tr>
		  <td>int</td>
		  <td>long, float, double</td>
		</tr>
		<tr>
		  <td>long</td>
		  <td>float, double</td>
		</tr>
		<tr>
		  <td>float</td>
		  <td>double</td>
		</tr>
	      </table>
	      <p> </p>

	      <h6>Conversion explicite/forçage de type (« <em>type
	      cast</em> » en anglais)</h6>

	      <p>Les conversions explicites sont celles où il peut y
	      avoir perte de donnée. Pour ce faire, nous utilisons « l’opérateur de forçage de type ». Il s’agit en fait de deux parenthèses entre lesquelles se trouve le <b>type de donnée</b> dans lequel nous voulons convertir notre valeur.</p>
	      <p>Par exemple : </p>

	      <pre class="prettyprint lang-java"><code>double d = 16.987;
float f = (float) d;	// Converts from double to float without any loss of data
int i = (int) f;	// Converts from float to int with loss of data
long l = (long) i;	// Converts from int to long without any loss of data
System.out.println(d);
System.out.println(f);
System.out.println(i);
System.out.println(l);</code>
	      </pre>

	      <p>On obtient alors à la console :</p>
	      <pre class="prettyprint lang-java"><code>16.987
16.987
16
16</code>
	      </pre>

	      <p> Dans la sortie du programme, on remarque une perte de données, soit celles des valeurs des décimales « .987 », lors de la conversion de <b>float</b> à <b>int</b>. Il faut donc être vigilant lors de l'utilisation de ce type de conversion et s'assurer que les pertes
	      d'information ne nuisent pas au bon fonctionnement de votre programme. Vous expérimenterez davantage ce type de conversion dans la prochaine partie du laboratoire.</p>

	      <h4>2. Les messages d'erreurs</h4>
	      <p> Programmer efficacement. Au cours du semestre, plusieurs idées vous seront présentées afin de développer  cette habileté. L'une des principales habiletés est le <b>débogage</b>. Au début, les étudiants perdent beaucoup  de temps avec cette activité, parfois, ils cherchent dans la mauvaise section du code. Nous reviendrons sur ce  sujet au cours des prochains laboratoires. Pour l'instant, nous allons nous concentrer sur les messages d'erreurs. Il est important de bien comprendre les messages d'erreurs, et de se familiariser avec chacun d'eux.  Pour faciliter la compréhension, je vous suggère de créer des petits programmes tests illustrant un seul cas  d'erreur. </p>
	      <p><b>Exercice!</b> Créez une nouvelle classe nommée <strong>Test</strong> ayant une méthode principale. Dans le corps de  la méthode principale, vous déclarerez une variable de type <strong>int</strong>, à laquelle, vous affecterez la  valeur <strong>Long.MAX_VALUE.</strong> C'est la plus grande valeur pour le type <strong>Long</strong>. Essayez par vous-même. </p>

	      <!--<img class="icon" src="images/question-bubble.png" />
		  <ul>
		  <li style="list-style:none;"><strong>Quel est le message d'erreur affiché par le compilateur ?</strong></li>
		  </ul>-->

	      <h6 class="question">Quel est le message d'erreur affiché par le compilateur ?</h6>

	      <p>Parfois, la logique de nos programmes est telle qu'on souhaiterait tout de même faire cette conversion. Il  faut alors être prudent. <strong>Utilisez toujours un test afin de vous assurer que la valeur de  l'expression se situe dans un intervalle de valeurs appropriées</strong>. Lorsqu'on force une conversion  (<strong>type explicite/casting</strong>), on dispense le compilateur de l'une de ses tâches essentielles, qui consiste à  s'assurer que tous les types des sous-expressions sont compatibles. C'est comme si on disait au  compilateur « je sais ce que je fais, s'il te plait, laisse-moi faire l'affectation de cette valeur à cette variable ».</p>

	      <pre class="prettyprint lang-java"><code>long l;
...
if (l &gt;= Integer.MIN_VALUE &amp;&amp; l &lt;= Integer.MAX_VALUE) {
   int i = (int) l;
   ...
}</code>
	      </pre>

	      <!--<textarea name="code" rows="10" cols="40">
		  long l;
		  ...
		  if (l >= Integer.MIN_VALUE && l <= Integer.MAX_VALUE) {
		  int i = (int) l;
		  ...
		  }
		  </textarea>-->

	      <p>Puisque la valeur de la variable <i>l</i> est comprise dans l'intervalle des valeurs possibles pour un entier int, pourquoi faut-il forcer la conversion à l'aide de la syntaxe <em>(int)</em> ? Autrement dit, pourquoi ne pourrait-on tout simplement écrire ceci :</p>

	      <pre class="prettyprint lang-java"><code>long l;
...
if (l &gt;= Integer.MIN_VALUE &amp;&amp; l &lt;= Integer.MAX_VALUE) {
   int i = l;
   ...
}</code>
	      </pre>

	      <p>La réponse est simple: le compilateur n'effectue pas de conversion implicite s'il y a un risque qu'il y ait perte d'information! Vous obtiendrez ainsi l'erreur suivante.</p>

<pre class="prettyprint lang-java"><code>Test.java:5: error: incompatible types: possible lossy conversion from long to int
                   int i = l;
                           ^
1 error</code>
</pre>
<p>Par ailleurs, on ne pourrait utiliser ce mécanisme (opérateur de cast) afin de transformer une chaîne de caractères (<b>String</b>) en un nombre ! Par  contre, chaque type primitif possède une <strong>classe « wrapper »</strong>. Cette classe a un nom semblable au type  auquel elle est associée. Par exemple, pour le type<strong> int</strong>, il y a la classe <strong>Integer</strong> (et de même,  il y a les classes <strong>Double, Boolean, Character</strong>, etc). Comme le nom le suggère, chacune de  ces classes enveloppantes sert à sauvegarder une valeur à l'intérieur d'un objet. Comme ceci : </p>

<pre class="prettyprint lang-java"><code>public class Integer {
	private int value;

	public Integer(int v) {
		value = v;
	}
	...
}</code></pre>

<p> Nous verrons plus tard des situations où ces objets seront nécessaires (lors de la présentation des <b>types  abstraits de données</b>). Cependant, un aspect important de ces classes est qu'elles regroupent aussi un  ensemble de méthodes utiles pour ce type.</p>
<p>Jetez-y un oeil par vous-même: </p>

<div class="content_links_box">
<ul>
  <li>Allez à <a href="https://docs.oracle.com/javase/8/docs/api/overview-summary.html" target="_blank">https://docs.oracle.com/javase/8/docs/api/overview-summary.html</a>
  <p>Il s'agit de la documentation des <b>classes et méthodes de Java 8.0</b>. Au fil de la session, vous devrez vous référer à cette documentation afin de connaître et d'utiliser ces classes et méthodes.</p> </li>
  <li>Visitez le package <strong>lang</strong>.
  <p>Ce dernier est toujours chargé par défaut dans vos programmes (vous n'avez donc pas besoin de faire l'usage de <i>import</i>). C'est notamment dans ce package que vous retrouvez les classes « wrapper ». Par ailleurs, la classe « System » que vous connaissez bien en raison de l'usage de <i>println()</i> s'y trouve aussi.</p>
		<ul>
  		<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/package-summary.html" target="_blank">https://docs.oracle.com/javase/8/docs/api/java/lang/package-summary.html</a>
  </li></ul>
  </li>
  <li>Plus bas dans cette page, vous pouvez trouver la classe <strong>Integer</strong>.
<ul>
      <li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html" target="_blank">https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html</a></li>
    </ul>
  </li>
  <li>Trouvez maintenant la méthode <strong>parseInt(String s)</strong> et identifiez le type de retour de la méthode.</li>
</ul>
</div>

<p></p>


<p>Il existe plusieurs erreurs de compilation. Ces erreurs peuvent être réduites si vous comprenez bien les <b>types</b> et que vous appliquez bien les règles de <b>syntaxe</b>. Le tableau ci-dessous résume les <b>erreurs de compilation</b> les plus courantes:</p>

<table border="1" >
	<tr>
		<th >MESSAGE D'ERREUR</th>
		<th >EXPLICATION</th>
	</tr>
	<tr>
		<td><code>variable VARIABLE_NAME might not have been initialized</code></td>
		<td >Utilisation de la variable VARIABLE_NAME non initialisée. Attention, il peut aussi s'agir d'une faute de frappe!</td>
	</tr>
	<tr>
		<td><code>';' expected </code></td>
		<td>Un point-virgule est manquant à la fin d'une ligne de code.</td>
	</tr>
	<tr>
		<td><code>cannot assign a value to a final variable VARIABLE_NAME</code></td>
		<td>Affectation d'une valeur à une constante VARIABLE_NAME déjà initialisée.</td>
	</tr>
	<tr>
		<td><code>incompatible types <br/>found: TYPE1 <br/>required: TYPE2</code></td>
		<td>Tentative d'affecter une valeur de type TYPE1 à une variable de type TYPE2 .</td>
	</tr>
	<tr>
		<td><code>cannot find symbol <br/>symbol: WORD <br/>location: LINE</code></td>
		<td>Le compilateur trouve un mot WORD qu'il ne comprend pas. Vérifiez qu'il ne s'agit pas d'une faute de frappe.</td>
	</tr>
	<tr>
		<td><code>illegal start of expression</code></td>
		<td>Le compilateur trouve un élément qui ne devrait pas se trouver à cet endroit.</td>
	</tr>
		<tr>
		<td><code>not a statement</code></td>
		<td>La ligne de code n'est pas valide.</td>
		</tr>

		<tr>
		  <td><code>reached end of file while parsing <br/>}<br/> ^</code></td>
		  <td>Il y a probablement une erreur dans vos blocs de code. Vérifiez vos accolades { }.</td>
		</tr>

</table>

<p>Bref, les <b>messages d'erreur</b> vous donnent beaucoup d'information (endroit de l'erreur, type d'erreur, etc.) Apprenez à bien les lire et les comprendre. Cela facilitera grandement le processus de débogage de votre code.</p>

<p> </p>

<h5>Exercices!</h5>

<p>Qu'est-ce qui sera affiché à la console lors de la compilation et l'exécution des courts programmes ci-dessous?</p>

<div id="question121"> <p> Question 1.21 : </p>
<pre class="prettyprint lang-java"><code>public class Test {
	public static void main ( String[] args ) {
		int num1 = 9 ;
		double num2 = 12.0;
		double sum = num1 + num2;
		System.out.println(sum);
	}
}</code></pre> <a href="#" onclick="toggle('ans121');">	Réponse</a></div>

<div style="display:none" id="ans121">
<pre class="prettyprint lang-java"><code>21.0</code></pre></div>


<div id="question122"> <p> Question 1.22 : </p>
<pre class="prettyprint lang-java"><code>public class Test {
	public static void main(String[] args) {
		double num1 = 18.4;
		double num2 = 1.6;
		int sum = num1 + num2;
		System.out.println(sum);
	}
}</code></pre> <a href="#" onclick="toggle('ans122');">	Réponse</a></div>

<div style="display:none" id="ans122">
<pre class="prettyprint lang-java"><code>Test.java:5: error: incompatible types: possible lossy conversion from double to int
                int sum = num1 + num2;
                               ^
1 error
</code></pre>
<p>Comme il y aurait perte d'information (conversion de <b>double</b> à <b>int</b>), le compilateur ne permet pas la conversion implicite de données.</p>
</div>

<div id="question123"> <p> Question 1.23 : </p>
<pre class="prettyprint lang-java"><code>public class Test {
	public static void main(String[] args) {
		double num1 = 13.6;
		double num2 = 2.5;
		int sum = (int) num1 + (int) num2;
		System.out.println(sum);
	}
}
		</code></pre> <a href="#" onclick="toggle('ans123');">	Réponse</a></div>

<div style="display:none" id="ans123"><pre class="prettyprint lang-java"><code>15</code></pre></div>

<div id="question124"> <p> Question 1.24 : </p>
<pre class="prettyprint lang-java"><code>public class Test {
	public static void main(String[] args) {
		double num1 = 13.6;
		double num2 = 2.5;
		int sum = (int) (num1 + num2);
		System.out.println(sum);
	}
}
		</code></pre> <a href="#" onclick="toggle('ans124');">	Réponse</a></div>

<div style="display:none" id="ans124"><pre class="prettyprint lang-java"><code>16</code></pre>
<p>Comparez les questions 1.23 et 1.24. Vous constaterez l'importance d'utiliser les <b>opérateur de cast</b> aux bons endroits afin d'obtenir les résultats voulus.</p>
</div>


<div id="question125"> <p> Question 1.25 : </p>
<pre class="prettyprint lang-java"><code>public class Test {
	public static void main(String[] args) {
		int num = 96;
		char a = num;
		System.out.println(a);
	}
}</code></pre> <a href="#" onclick="toggle('ans125');">	Réponse</a></div>

<div style="display:none" id="ans125"><pre class="prettyprint lang-java"><code>Test.java:4: error: incompatible types: possible lossy conversion from int to char
                char a = num;
                         ^
1 error
</code></pre>
<p>Encore une fois, il y aurait perte d'information! Le compilateur refuse donc de convertir implicitement les données de <b>int</b> à <b>char</b>. La conversion opposée, soit de <b>char</b> à <b>int</b>, peut toutefois être effectuée implicitement.</p>

</div>

<div id="question126"> <p> Question 1.26 : </p>
<pre class="prettyprint lang-java"><code>public class Test {
	public static void main(String[] args) {
		System.out.println( (float) (int) 2017.89432 );
	}
}</code></pre> <a href="#" onclick="toggle('ans126');">	Réponse</a></div>

<div style="display:none" id="ans126"><pre class="prettyprint lang-java"><code>2017.0</code></pre>
	<p>L'<b>opérateur de cast</b> (int) est d'abord exécuté. Ensuite, il y a conversion de cette nouvelle valeur de type <b>int</b> en <b>float</b>.</p></div>

<div id="question127">  <p> Question 1.27 : </p>

<p>Pour cette question nous allons revisiter la méthode principale <b>main</b>. Comme vous l’avez vu précédemment, la méthode main doit contenir l’argument <b>String args[]</b>. Cet argument permet de fournir des données au programme lors de son lancement. Pour ce faire, il suffit de fournir les donnes via la ligne de commande de la manière suivante :</p>

<pre class="prettyprint lang-java"><code>&gt; java MyProgram one two</code></pre>

<p>Où <b>args</b> contient maintenant les chaînes de caractères « one » et « two ». On peut alors manipuler la variable args comme un tableau régulier.</p>

<p>Voici un <b>exemple</b> :</p>

<p>Maintenant, construisez la classe « Sum » qui fait la
conversion de tous les éléments sur la ligne de commande, de
<b>String</b> en  <b>int</b>, et fait aussi la <b>somme</b> des
éléments. </p>
<p><i>Indice: Utiliser les méthodes de la classe « Integer » fournies dans la documentation
Java</i></p>
<pre class="prettyprint lang-java"><code>&gt; javac Sum.java
&gt; java Sum 1 2 3 4 5</code></pre>
<p>Votre programme doit avoir une sortie similaire à: </p>
<pre class="prettyprint lang-java"><code>The sum is 15</code></pre></div>
<p>Voici un cours vidéo qui explique le processus étape par étape :
<p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/yZ6c2KKhFwc" frameborder="0" allowfullscreen><a href="https://www.youtube.com/watch?v=yZ6c2KKhFwc&amp;t=21s" target="_blank">https://www.youtube.com/watch?v=yZ6c2KKhFwc&amp;t=21s</a></iframe>
</p>
</p>


<p>&nbsp;</p>
				  </div>
					</div>
					</div>


      	<div class="bb-item" id="item2">
						<div class="content">
							<div class="scroller">
<h1>Deuxième partie</h1>
<h2>Programmation orientée objet</h2>
<div class="content_bullet_box">
<ul>
  <li><b>Implémenter</b> des classes simples </li>
  <li><b>Créer</b> des associations entre classes </li>
  <li><b>Approfondir</b> la notion d'encapsulation de données</li>
</ul>
</div>

<h3>2.1. Notion de programmation orientée objet:</h3>
<h4>2.1.1. Variable d’instance vs variable de classe</h4>
<p>Les variables d’<strong>instance</strong> sont liées à une instance de la classe. Ainsi, à chaque fois que l’on crée une nouvelle instance de la classe (un nouvel objet), une nouvelle copie de cette variable d’instance est créée.</p>
<p>Les variables de <strong>classe</strong> (aussi connu sous le nom de variable <strong>static</strong>) sont associées à la classe elle-même. Il n'en existe qu’une seule copie qui est partagée par toutes les instances (objets) de cette classe.</p>
<pre class="prettyprint lang-java"><code>
public class Person {
       String firstName; //instance variable
       String lastName; //instance variable
  [...]
       static int numberOfPersons = 0 //class variable
  }  </code></pre>
<h4>2.1.2. Variable privée</h4>
<p>Une variable privée (<strong>private</strong>) est une variable qui ne peut être accédée que par la classe elle-même. Elle ne peut pas être accédée par une autre classe. Il faut donc utiliser des « setters » et des « getters » afin de pouvoir interagir avec cette variable. L'utilisation de variables privées est une bonne pratique à suivre. Il est donc important que vous déclariez vos variables d'<b>instance</b> « private » dans vos devoirs et dans vos examens si vous ne voulez pas perdre de points.</p>
<p><strong>Note</strong> : Parfois, un paramètre peut avoir le même nom qu’une variable d’instance. Pour faire la différence entre les deux, on utilise le mot clé <strong>this</strong> afin de faire référence à la variable de classe ; <strong>this</strong> indique l’objet dans lequel le code est exécuté</p>
<pre class="prettyprint lang-java"><code>
public class Person {
	private String firstName; //this variable is private
	private String lastName; //this variable is private
  [...]
	static int numberOfPersons = 0
  [...]
	//example of a getter
	public String getFirstName(){
		return firstName; //Here we do not need to use "this"
	}

	//example of a setter
	public void setFirstName(String firstName){
		this.firstName = firstName; //Here we need to use the keyword "this"
	}
}  </code></pre>
<h4>2.1.3. Constructeurs</h4>
<p>Un constructeur est une méthode unique qui est appelée lorsqu’une instance de la classe est créée (à aucun autre moment, le constructeur n'est appelé). Cette méthode permet d’initialiser la classe et les variables d’instance nécessaires. La méthode doit avoir le <b>même nom que la classe</b> et <b>ne pas avoir de type de retour</b>.</p>

<p>Une classe peut avoir plusieurs constructeurs dont le nombre de paramètres diffère (l'arité). Les constructeurs peuvent également être appelés explicitement à partir d'un constructeur différent, à l'aide du mot-clé <strong>this</strong>. Cette appel doit toujours être la première instruction dans le constructeur.
<pre class="prettyprint lang-java"><code>
public class Person {
  private String firstName; //this variable is private
  private String lastName; //this variable is private
  private String username; //this variable is private
  [...]
  static int numberOfPersons = 0;
  [...] 
  //example of a constructor with a default value
  public Person(String firstName, String lastName){
          //no code before this call
          this(firstName, lastName, firstName + "." + lastName);
          //possibly more code here
  }
  //example of a constructor
  public Person(String firstName, String lastName, String username){
    this.firstName = firstName;
    this.lastName = lastName;
    this.username = username;
  }
  //example of a getter
  public String getFirstName(){
    return firstName; //Here we do not need to use "this"
  }
  //example of a setter
  public void setFirstName(String firstName){
    this.firstName = firstName; //Here we need to use the keyword "this"
  }
}</code></pre>
<h3>2.2. Exercice</h3>

<p>Pour cette partie du laboratoire, vous devez créer trois classes : <strong>Combination, DoorLock</strong> et  <strong>SecurityAgent</strong>. On souhaite explorer le concept d'association entre des classes. Ainsi, un objet de la classe  <strong>DoorLock</strong> possède une variable d'instance de type référence vers un objet de la classe <strong>Combination</strong>. Un  objet de la classe <strong>SecurityAgent</strong> possède une référence vers un objet de la classe  <strong>DoorLock</strong> , mais aussi,  une référence vers un objet de la classe <strong>Combination</strong>. Ainsi, les objets <strong>SecurityAgent</strong> et <strong>DoorLock</strong> ont  tous les deux accès au même objet <strong>Combination</strong>. </p>
<p> Dans une classe <strong>Test</strong>, nous tentons de forcer le verrou. Ce programme tente de forcer l'ouverture du  verrou à l'aide de combinaisons de chiffres générées aléatoirement. Afin que le programme trouve la bonne  combinaison rapidement, chaque chiffre de la combinaison prend ses valeurs dans l'intervalle 1…5. Après trois  essais infructueux, le verrou devient inutilisable, il faut donc demander à l'objet <strong>SecurityAgent</strong> de le  réactiver. </p>

<h4>2.2.1. Combination</h4>
<p>Vous allez soumettre cet exercice.  Téléchargez et complétez le fichier de démarrage ici: <a href="https://www.site.uottawa.ca/~gvj/Courses/ITI1121/lectures/labs/lab2_template/Combination.java">Combination.java</a>.</p>
<p>Créez une classe, nommée <strong>Combination</strong>, afin de contenir trois valeurs entières (de type int). </p>

<ol>
  <li>déclarez toutes les variables d'instance nécessaires afin de contenir ces trois valeurs entières ; </li>
  <li>définir  un  constructeur,  <strong>public  Combination(int  first,  int  second,  int  third)</strong>,  afin d'initialiser les valeurs de cet objet ; </li>
  <li>implémentez la méthode d'instance <strong>public boolean equals(Combination otherx)</strong>, telle que <strong>equals</strong> retourne la valeur <strong>true</strong> si l'objet désigné par le paramètre <strong>other</strong> contient les mêmes valeurs, dans le même ordre, que cet objet ; l'ordre des variables est le même que l'ordre des paramètres du constructeur. Étant donné les énoncés suivants :</li></ol>
<pre class="prettyprint lang-java"><code>Combination c1, c2, c3;

c1 = new Combination(1, 2, 3);
c2 = new Combination(1, 2, 3);
c3 = new Combination(3, 2, 1);</code></pre>


 <p><strong>c1.equals(c2)</strong> retourne <strong>true</strong> mais <strong>c1.equals(c3)</strong> retourne <strong>false</strong> ; </p>
 <ol start="4">
  <li id="x1-6013x4">finalement, implémentez la méthode <strong>public String toString()</strong> afin de retourner une chaîne de caractères représentant l'état de cet objet, et telle que les valeurs des variables d'instances soient séparées par le symbole « :». Étant donné,
  </li>
</ol>
  <pre class="prettyprint lang-java"><code>Combination c1;
c1 = new Combination(1, 2, 3);
System.out.println(c1);</code></pre>

    <p><strong><em>le résultat affiché sera «1 :2 :3».</em></strong></p>

<p> L'interface de la classe <strong>Combination</strong> est constituée des méthodes suivantes : le constructeur, la méthode  <strong>equals</strong> ainsi que la méthode <strong>toString</strong>. </p>
<p> En principe, les données devraient être validées. En particulier, toutes les valeurs devraient faire partie de l'intervalle 1 à 5. Cependant, puisque nous n'avons pas encore les outils nécessaires afin de traiter les  situations exceptionnelles, nous assumerons (pour l'instant) que toutes données sont valides, ainsi aucune  validation ne sera nécessaire. </p>
<p> Note : mon implémentation pour cette classe fait environ 20 lignes, sans compter les lignes blanches. Il ne  s'agit pas de créer l'implémentation la plus compacte. Je vous donne ces informations afin que vous puissiez  évaluer la complexité des tâches. </p>

<h4>2.2.2. DoorLock</h4>
<p>Vous allez soumettre cet exercise.  Téléchargez et complétez le fichier de démarrage ici: <a href="https://www.site.uottawa.ca/~gvj/Courses/ITI1121/lectures/labs/lab2_template/DoorLock.java">DoorLock.java</a>.
<p>Créez une classe <strong>DoorLock</strong> (simplement un verrou ou une serrure) ayant les caractéristiques  suivantes : </p>

<ol>
  <li>déclarez une constante de type int, nommée <strong>MAX_NUMBER_OF_ATTEMPTS</strong>, que vous initialiserez à la valeur 3 ; </li>
  <li>variables d'instance. La classe <strong>DoorLock</strong> doit posséder toutes les variables d'instance nécessaires afin de
 <ol type="i"><li>
   désigner un objet de la classe Combination,</li>
   <li>déterminer si la serrure est ouverte ou verrouillée, </li>
   <li>savoir si la serrure est activée ou non, et </li>
   <li>connaître le nombre d'essais ratés pour ouvrir cette serrure ; </li>
 </ol>
 </li>
  <li>la classe n'a qu'un constructeur, <strong>DoorLock(Combination combination)</strong>. Ce dernier initialise cette instance à l'aide de valeur reçue en paramètre. Lorsqu'un objet de cette classe est créé
  <ol type="i"><li>la serrure est verrouillée,</li>
    <li> l'objet est activé et</li>
    <li>le nombre de tentatives ratées doit être mis à zéro ;</li>
  </ol>
  </li>
  <li>implémentez la méthode d'instance <strong>public boolean isOpen()</strong> qui retourne <strong>true</strong> si le verrou est ouvert et <strong>false</strong> sinon ; </li>
  <li>implémentez la méthode d'instance <strong>public boolean isActivated() </strong>qui retourne <strong>true</strong> si ce verrou est activé et <strong>false</strong> sinon ; </li>
  <li>implémentez la méthode d'instance <strong>public void activate(Combination c)</strong> qui modifie l'état de  l'objet  afin  de  représenter  l'état  actif  du  verrou  si  la  bonne  combinaison  est  passée  en argument, c'est-à-dire que la valeur du paramètre c est la même («equals») que celle de la combinaison de cet objet ; </li>
  <li>finalement,   implémentez   la   méthode   d'instance   <strong>public   boolean   open(Combination combination)</strong> qui
  <ol type="i"><li>n'ouvre le verrou que s'il est actif, si la combinaison passée en argument est la même que la combinaison de ce verrou alors la méthode change l'état de l'objet afin de représenter l'état ouvert, et doit remettre à zéro le compte du nombre d'essais ratés, </li>
    <li>sinon, c'est à dire la mauvaise combinaison a été passée en argument, alors le nombre d'essais ratés est incrémenté de un, </li>
    <li>si le nombre d'essais ratés atteint la valeur MAX_NUMBER_OF_ATTEMPTS alors le verrou doit être désactivé.</li>
  </ol>
  </li>
</ol>
<p> <em><strong>Note :</strong></em> mon implémentation compte environ 40 lignes, sans compter les lignes blanches. </p>

<h4>2.2.3. SecurityAgent (si le temps le permet)</h4>
<p>Créez la classe <strong>SecurityAgent</strong> telle que décrite ci-bas. </p>
<p> </p>
<ol>
  <li>variables d'instances. Un agent de sécurité est responsable d'un seul verrou. Déclarez toutes les variables d'instance nécessaires afin qu'un agent de sécurité
  <ol type="i"><li>mémorise (stock) une combinaison et </li>
    <li>ait accès au verrou dont il est responsable, c'est à dire une référence vers un objet de la classe DoorLock ;</li>
  </ol>
  </li>
  <li>implémentez un constructeur sans paramètre tel que lorsqu'un nouvel agent est créé
  <ol type="i">
    <li>il crée aussi une nouvelle combinaison et sauve une référence vers cet objet, </li>
    <li> il crée aussi un nouveau verrou (instance de la classe DoorLock) à l'aide de la combinaison sauvegardée. Afin de simplifier l'implémentation, vous pouvez toujours utiliser la même combinaison :</li>
  </ol>
  </li></ol>

    <pre class="prettyprint lang-java"><code>Combination secret;
secret = new Combination(1,2,3);</code></pre>
    <p>si <strong>secret</strong> est le nom de la variable d'instance qui désigne la combinaison. Sinon, laissez les agents de sécurité utiliser leur imagination, de sorte que chaque agent de sécurité «invente» une nouvelle combinaison qu'il est le seul à connaître. </p>
        <pre class="prettyprint lang-java"><code>int first, second, third;

first = (int) (Math.random()*5) + 1;
second = (int) (Math.random()*5) + 1;
third = (int) (Math.random()*5) + 1;

secret = new Combination(first, second, third);</code></pre>
        <p>Voici une façon plus élégante d'obtenir le même résultat : </p>

      <pre class="prettyprint lang-java"><code>java.util.Random generator;
generator = new  java.util.Random();

int first, second, third;

first = generator.nextInt(5) + 1;
second = generator.nextInt(5) + 1;
third = generator.nextInt(5) + 1;

secret = new Combination(first, second, third);</code></pre>
      <p>les valeurs valides appartiennent à l'intervalle 1 à 5. </p>

 <ol start="3"> <li>implémentez la méthode d'instance <strong>public DoorLock getDoorLock()</strong> qui retourne une référence vers un objet de la classe <strong>DoorLock</strong> sauvegardé par cet agent ; </li>
  <li id="x1-8027x4">implémentez la méthode d'instance <strong>public void activateDoorLock()</strong> qui ré-active le verrou à l'aide de la combinaison sauvegardée.</li>
</ol>
<p><strong><em>Observation :</em></strong> mon implémentation comporte environ 15 lignes de code. </p>
<p> </p>
<h4>2.2.4. Main</h4>
<p>Une classe SecurityAgency accompagne ce laboratoire. Cependant, je vous suggère de l'utiliser que lorsque les classes  ci-haut auront été amplement validées. </p>
<p> La classe contient une méthode main qui </p>
<ol type="i">
		<li>Elle utilise un argument de ligne de commande qui représentant le nombre maximum de tentatives de forcer.</li>
    <li>Elle crée un agent de sécurité, nommé bob ; </li>
    <li>elle demande à bob l'accès au verrou ; </li>
	<li>elle utilise une approche naïve afin de forcer la serrure </li>
	<li>Suite à trois essais  ratés, le verrou sera désactivé, il faut alors demander à bob de le réactiver.</li>
	<li>Lorsque le verrou a été forcé, la méthode imprime la combinaison ainsi que le nombre d'échecs.</li>
  </ol>
  <p>N'oubliez pas de passer une valeur sur la ligne de commande. Voici quelques  exemples : </p>
        <pre class="prettyprint lang-java"><code>
% java SecurityAgency 300
Success!
Number of attemtps: 266
The combination is: 3:1:3

% java SecurityAgency 10
Success!
Number of attemtps: 1
The combination is: 4:1:5

% java SecurityAgency 120
Success!
Number of attemtps: 115
The combination is: 2:2:1

% java SecurityAgency 400
Success!
Number of attemtps: 383
The combination is: 2:4:5

% java SecurityAgency 90
Success!
Number of attemtps: 89
The combination is: 3:5:1

% java SecurityAgency 8
Failed!
Reached the maximum number of attempts before finding the combination!
  </code></pre>

  <div class="content_bullet_box">
        <p><span class="title"> Attention : </span>si l'une ou l'autre des méthodes est implémentée incorrectement et si vous ne donnez pas l'argument de la ligne de comande, il se peut que la méthode main  soit prise dans une boucle infinie, utilisez alors Ctrl-c afin de terminer le processus. </p>
<p><span class="title">Suggestion : </span>construisez des classes tests pour chacune de vos classes. </p>
<ul>

  <li><a href="https://www.site.uottawa.ca/~gvj/Courses/ITI1121/lectures/labs/lab2_template/SecurityAgency.java" target="_blank">SecurityAgency.java</a></li>
</ul></div>


							<p>&nbsp;</p></div>
						</div>
					</div>

          <div class="bb-item" id="item3">
          						<div class="content">
          							<div class="scroller">
          <h1>Troisième partie</h1>
          <h2>Créer et soumettre un fichier zip (1 point)</h2>

          <h4>Directives</h4>

          <ul>
            <li>Créez un répertoire que vous nommerez <strong>lab2_123456</strong>, où vous remplacerez 123456 par votre numéro d'étudiant. Notez que le nom du répertoire est en minuscules, incluant la lettre «l».</li>
            <li>Dans ce répertoire, placer les fichiers pour les exercices <a href="lab2_template/Combination.java">Combination</a> et <a href="lab2_template/DoorLock.java">DoorLock</a>..  N'y ajoutez que le code source, les fichiers .java. En particulier, ne soumettez pas les fichiers .class. </li>
            <li>Dans ce répertoire, créez aussie un fichier texte nommé <strong>README.txt</strong>, qui devra contenir votre nom, numéro d'étudiant, ainsi qu'une brève description du contenu (en français ou en anglais, c'est votre choix) :
          <pre class="prettyprint lang-java"><code>
Nom d'etudiant(e): Marc Tremblay
Numero d'etudiant: 123456
Code de cours: ITI1121
Section de lab: B-2

Cette archive contient les 3 fichiers du laboratoire 2, c'est-à-dire, ce fichier (README.txt),
puis les fichiers Combination.java et DoorLock.java.</code></pre>
            </li>
            <li>Créez un fichier <strong>zip lab2_123456.zip</strong> à partir du répertoire <strong>lab2_123456</strong>. </li>
            <li>Assurez-vous que cette archive comprend tous les fichiers nécessaires. Pour ce faire, copiez le fichier zip quelque part, ouvrez-le et assurez-vous que les fichiers et les répertoires espérés s'y trouvent. </li>
            <li>Soumettez l'archive sur <a href="https://uottawa.brightspace.com/">https://uottawa.brightspace.com/</a></li>
<h4>Remarques importantes!</h4>
Nous utilisons des scripts automatisés pour tester et évaluer votre soumission de laboratoire. Par conséquent, vous devez suivre ces instructions à la lettre. En particulier:
<ul>
<li>Les noms de tous les fichiers et méthodes doivent être exacts. Utilisez le code de démarrage fourni pour éviter des problèmes.</li>
<li>Il faut soumettre un fichier .zip; pas de fichiers individuels; pas un .rar, pas un .7z, ni rien d’autre. </li>
<li>Tous les fichiers de java doivent être présents et compiler avec succès (autrement dit, l’exécution de javac *.java ne doit générer aucune erreur), même si vous n’êtes pas capable de compléter un exercice. </li>
<li>Notez si le code ne sera pas compilé en raison d'erreurs de syntaxe, vous n'obtiendrez pas de marque. Même si vous ne pouvez pas à résoudre complètement cet exercice, vous devez déposer un fichier contenant les méthodes intactes qui compilent correctement (vous pouvez mettre "return 0" si vous avez abandonné). </li>
<li>Votre travail doit être soumis au plus tard à 23h30
  le mardi de la semaine prochaine.</li>
</ul>

<h4>JUnits</h4>

Pour vous aider à vous assurer que votre code est correct, nous avons préparé quelques <a href="https://www.site.uottawa.ca/~gvj/Courses/ITI1121/lectures/labs/lab2_template/JUnit.zip">Tests unitaires</a>. Consultez le fichier Readme.txt dans le fichier zip pour plus d'informations.


<h4>Resources</h4>
          <ul>
            <li><a href="https://docs.oracle.com/javase/tutorial/getStarted/application/index.html" target="_blank">https://docs.oracle.com/javase/tutorial/getStarted/application/index.html</a></li>
            <li><a href="https://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html" target="_blank">https://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html</a></li>
            <li><a href="https://docs.oracle.com/javase/tutorial/getStarted/cupojava/unix.html" target="_blank">https://docs.oracle.com/javase/tutorial/getStarted/cupojava/unix.html</a></li>
            <li><a href="https://docs.oracle.com/javase/tutorial/getStarted/problems/index.html" target="_blank">https://docs.oracle.com/javase/tutorial/getStarted/problems/index.html</a></li>
          </ul>

          						</div>
          						</div>
          					</div>

          				</div>
					<nav>
					<span id="bb-nav-prev">&larr;</span>
					<span id="bb-nav-next">&rarr;</span>
				      </nav>

					<span id="tblcontents" class="menu-button">Table of Contents</span>

				      </div>

				      </div><!-- /container -->
					<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
					<!-- <script type="text/javascript" src="js/jquery.mousewheel.js"></script> -->
					<!-- <script type="text/javascript" src="js/jquery.jscrollpane.min.js"></script> -->
					<script type="text/javascript" src="js/jquerypp.custom.js"></script>
					<script type="text/javascript" src="js/jquery.bookblock.js"></script>
					<script type="text/javascript" src="js/page.js"></script>
					<script type="text/javascript">
					  $(function() {

					  Page.init();

					  });
					</script>


</body>
</html>
